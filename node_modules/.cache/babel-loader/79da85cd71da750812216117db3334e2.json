{"ast":null,"code":"import * as React from \"react\";\nimport { isBrowser } from \"@chakra-ui/utils\";\nvar useSafeLayoutEffect = isBrowser ? React.useLayoutEffect : React.useEffect;\n/**\n * React hook that tracks state of a CSS media query\n *\n * @param query the media query to match\n */\n\nexport function useMediaQuery(query) {\n  var queries = Array.isArray(query) ? query : [query];\n  var isSupported = isBrowser && \"matchMedia\" in window;\n  var [matches, setMatches] = React.useState(queries.map(query => isSupported ? !!window.matchMedia(query).matches : false));\n  useSafeLayoutEffect(() => {\n    if (!isSupported) return undefined;\n    var mediaQueryList = queries.map(query => window.matchMedia(query));\n    var listenerList = mediaQueryList.map((mediaQuery, index) => {\n      var listener = () => setMatches(prev => prev.map((prevValue, idx) => index === idx ? !!mediaQuery.matches : prevValue));\n\n      mediaQuery.addListener(listener);\n      return listener;\n    });\n    return () => {\n      mediaQueryList.forEach((mediaQuery, index) => {\n        mediaQuery.removeListener(listenerList[index]);\n      });\n    };\n  }, [query]);\n  return matches;\n}","map":{"version":3,"sources":["../../src/use-media-query.ts"],"names":["useSafeLayoutEffect","isBrowser","React","queries","Array","isSupported","query","window","mediaQueryList","listenerList","listener","setMatches","prev","index","mediaQuery"],"mappings":"AAAA,OAAO,KAAP,KAAA,MAAA,OAAA;AACA,SAAA,SAAA,QAAA,kBAAA;AAEA,IAAMA,mBAAmB,GAAGC,SAAS,GAAGC,KAAK,CAAR,eAAA,GAA2BA,KAAK,CAArE,SAAA;AAEA;;;;;;AAKA,OAAO,SAAA,aAAA,CAAA,KAAA,EAA4D;AACjE,MAAMC,OAAO,GAAGC,KAAK,CAALA,OAAAA,CAAAA,KAAAA,IAAAA,KAAAA,GAA+B,CAA/C,KAA+C,CAA/C;AACA,MAAMC,WAAW,GAAGJ,SAAS,IAAI,gBAAjC,MAAA;AAEA,MAAM,CAAA,OAAA,EAAA,UAAA,IAAwBC,KAAK,CAALA,QAAAA,CAC5BC,OAAO,CAAPA,GAAAA,CAAaG,KAAD,IACVD,WAAW,GAAG,CAAC,CAACE,MAAM,CAANA,UAAAA,CAAAA,KAAAA,EAAL,OAAA,GAFf,KACEJ,CAD4BD,CAA9B;AAMAF,EAAAA,mBAAmB,CAAC,MAAM;AACxB,QAAI,CAAJ,WAAA,EAAkB,OAAA,SAAA;AAElB,QAAMQ,cAAc,GAAGL,OAAO,CAAPA,GAAAA,CAAaG,KAAD,IAAWC,MAAM,CAANA,UAAAA,CAA9C,KAA8CA,CAAvBJ,CAAvB;AAEA,QAAMM,YAAY,GAAG,cAAc,CAAd,GAAA,CAAmB,CAAA,UAAA,EAAA,KAAA,KAAuB;AAC7D,UAAMC,QAAQ,GAAG,MACfC,UAAU,CAAEC,IAAD,IACTA,IAAI,CAAJA,GAAAA,CAAS,CAAA,SAAA,EAAA,GAAA,KACPC,KAAK,KAALA,GAAAA,GAAgB,CAAC,CAACC,UAAU,CAA5BD,OAAAA,GAHN,SAEID,CADQ,CADZ;;AAOAE,MAAAA,UAAU,CAAVA,WAAAA,CAAAA,QAAAA;AAEA,aAAA,QAAA;AAVF,KAAqB,CAArB;AAaA,WAAO,MAAM;AACXN,MAAAA,cAAc,CAAdA,OAAAA,CAAuB,CAAA,UAAA,EAAA,KAAA,KAAuB;AAC5CM,QAAAA,UAAU,CAAVA,cAAAA,CAA0BL,YAAY,CAAtCK,KAAsC,CAAtCA;AADFN,OAAAA;AADF,KAAA;AAlBiB,GAAA,EAuBhB,CAvBHR,KAuBG,CAvBgB,CAAnBA;AAyBA,SAAA,OAAA;AACD","sourcesContent":["import * as React from \"react\"\nimport { isBrowser } from \"@chakra-ui/utils\"\n\nconst useSafeLayoutEffect = isBrowser ? React.useLayoutEffect : React.useEffect\n\n/**\n * React hook that tracks state of a CSS media query\n *\n * @param query the media query to match\n */\nexport function useMediaQuery(query: string | string[]): boolean[] {\n  const queries = Array.isArray(query) ? query : [query]\n  const isSupported = isBrowser && \"matchMedia\" in window\n\n  const [matches, setMatches] = React.useState(\n    queries.map((query) =>\n      isSupported ? !!window.matchMedia(query).matches : false,\n    ),\n  )\n\n  useSafeLayoutEffect(() => {\n    if (!isSupported) return undefined\n\n    const mediaQueryList = queries.map((query) => window.matchMedia(query))\n\n    const listenerList = mediaQueryList.map((mediaQuery, index) => {\n      const listener = () =>\n        setMatches((prev) =>\n          prev.map((prevValue, idx) =>\n            index === idx ? !!mediaQuery.matches : prevValue,\n          ),\n        )\n\n      mediaQuery.addListener(listener)\n\n      return listener\n    })\n\n    return () => {\n      mediaQueryList.forEach((mediaQuery, index) => {\n        mediaQuery.removeListener(listenerList[index])\n      })\n    }\n  }, [query])\n\n  return matches\n}\n"]},"metadata":{},"sourceType":"module"}