{"ast":null,"code":"import * as React from \"react\";\nimport { useSafeLayoutEffect } from \"./use-safe-layout-effect\";\n/**\n * Credit: https://github.com/reach/reach-ui/blob/develop/packages/auto-id/src/index.tsx\n */\n\nvar handoffComplete = false;\nvar id = 0;\n\nvar genId = () => ++id;\n/**\n * Reack hook to generate unique id\n *\n * @param idProp the external id passed from the user\n * @param prefix prefix to append before the id\n */\n\n\nexport function useId(idProp, prefix) {\n  var initialId = idProp || (handoffComplete ? genId() : null);\n  var [uid, setUid] = React.useState(initialId);\n  useSafeLayoutEffect(() => {\n    if (uid === null) setUid(genId());\n  }, []);\n  React.useEffect(() => {\n    if (handoffComplete === false) {\n      handoffComplete = true;\n    }\n  }, []);\n  var id = uid != null ? uid.toString() : undefined;\n  return prefix ? prefix + \"-\" + id : id;\n}\n/**\n * Reack hook to generate ids for use in compound components\n *\n * @param idProp the external id passed from the user\n * @param prefixes array of prefixes to use\n *\n * @example\n *\n * ```js\n * const [buttonId, menuId] = useIds(\"52\", \"button\", \"menu\")\n *\n * // buttonId will be `button-52`\n * // menuId will be `menu-52`\n * ```\n */\n\nexport function useIds(idProp) {\n  var id = useId(idProp);\n\n  for (var _len = arguments.length, prefixes = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    prefixes[_key - 1] = arguments[_key];\n  }\n\n  return prefixes.map(prefix => prefix + \"-\" + id);\n}","map":{"version":3,"sources":["../../src/use-id.ts"],"names":["handoffComplete","id","genId","initialId","idProp","React","useSafeLayoutEffect","uid","setUid","prefix","prefixes","useId"],"mappings":"AAAA,OAAO,KAAP,KAAA,MAAA,OAAA;AACA,SAAA,mBAAA,QAAA,0BAAA;AAEA;;;;AAGA,IAAIA,eAAe,GAAnB,KAAA;AACA,IAAIC,EAAE,GAAN,CAAA;;AACA,IAAMC,KAAK,GAAG,MAAM,EAApB,EAAA;AAEA;;;;;;;;AAMA,OAAO,SAAA,KAAA,CAAA,MAAA,EAAA,MAAA,EAAiD;AACtD,MAAMC,SAAS,GAAGC,MAAM,KAAKJ,eAAe,GAAGE,KAAH,EAAA,GAA5C,IAAwB,CAAxB;AACA,MAAM,CAAA,GAAA,EAAA,MAAA,IAAgBG,KAAK,CAALA,QAAAA,CAAtB,SAAsBA,CAAtB;AAEAC,EAAAA,mBAAmB,CAAC,MAAM;AACxB,QAAIC,GAAG,KAAP,IAAA,EAAkBC,MAAM,CAACN,KAAPM,EAAM,CAANA;AADD,GAAA,EAAnBF,EAAmB,CAAnBA;AAIAD,EAAAA,KAAK,CAALA,SAAAA,CAAgB,MAAM;AACpB,QAAIL,eAAe,KAAnB,KAAA,EAA+B;AAC7BA,MAAAA,eAAe,GAAfA,IAAAA;AACD;AAHHK,GAAAA,EAAAA,EAAAA;AAMA,MAAMJ,EAAE,GAAGM,GAAG,IAAHA,IAAAA,GAAcA,GAAG,CAAjBA,QAAcA,EAAdA,GAAX,SAAA;AACA,SAAQE,MAAM,GAAMA,MAAN,GAAA,GAAMA,GAAN,EAAA,GAAd,EAAA;AACD;AAED;;;;;;;;;;;;;;;;AAeA,OAAO,SAAA,MAAA,CAAA,MAAA,EAAwD;AAC7D,MAAMR,EAAE,GAAGU,KAAK,CAAhB,MAAgB,CAAhB;;AAD6D,OAAA,IAAA,IAAA,GAAA,SAAA,CAAA,MAAA,EAApBD,QAAoB,GAAA,IAAA,KAAA,CAAA,IAAA,GAAA,CAAA,GAAA,IAAA,GAAA,CAAA,GAAA,CAAA,CAAA,EAAA,IAAA,GAAA,CAAA,EAAA,IAAA,GAAA,IAAA,EAAA,IAAA,EAAA,EAAA;AAApBA,IAAAA,QAAoB,CAAA,IAAA,GAAA,CAAA,CAApBA,GAAoB,SAAA,CAAA,IAAA,CAApBA;AAAoB;;AAE7D,SAAOA,QAAQ,CAARA,GAAAA,CAAcD,MAAD,IAAeA,MAAf,GAAA,GAAeA,GAAnC,EAAOC,CAAP;AACD","sourcesContent":["import * as React from \"react\"\nimport { useSafeLayoutEffect } from \"./use-safe-layout-effect\"\n\n/**\n * Credit: https://github.com/reach/reach-ui/blob/develop/packages/auto-id/src/index.tsx\n */\nlet handoffComplete = false\nlet id = 0\nconst genId = () => ++id\n\n/**\n * Reack hook to generate unique id\n *\n * @param idProp the external id passed from the user\n * @param prefix prefix to append before the id\n */\nexport function useId(idProp?: string, prefix?: string) {\n  const initialId = idProp || (handoffComplete ? genId() : null)\n  const [uid, setUid] = React.useState(initialId)\n\n  useSafeLayoutEffect(() => {\n    if (uid === null) setUid(genId())\n  }, [])\n\n  React.useEffect(() => {\n    if (handoffComplete === false) {\n      handoffComplete = true\n    }\n  }, [])\n\n  const id = uid != null ? uid.toString() : undefined\n  return (prefix ? `${prefix}-${id}` : id) as string\n}\n\n/**\n * Reack hook to generate ids for use in compound components\n *\n * @param idProp the external id passed from the user\n * @param prefixes array of prefixes to use\n *\n * @example\n *\n * ```js\n * const [buttonId, menuId] = useIds(\"52\", \"button\", \"menu\")\n *\n * // buttonId will be `button-52`\n * // menuId will be `menu-52`\n * ```\n */\nexport function useIds(idProp?: string, ...prefixes: string[]) {\n  const id = useId(idProp)\n  return prefixes.map((prefix) => `${prefix}-${id}`)\n}\n"]},"metadata":{},"sourceType":"module"}