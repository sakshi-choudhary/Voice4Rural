{"ast":null,"code":"import * as React from \"react\";\n\nfunction setScript(initialValue) {\n  var mql = window.matchMedia(\"(prefers-color-scheme: dark)\");\n  var systemPreference = mql.matches ? \"dark\" : \"light\";\n  var persistedPreference;\n\n  try {\n    persistedPreference = localStorage.getItem(\"chakra-ui-color-mode\");\n  } catch (error) {\n    console.log(\"Chakra UI: localStorage is not available. Color mode persistence might not work as expected\");\n  }\n\n  var isInStorage = typeof persistedPreference === \"string\";\n  var colorMode;\n\n  if (isInStorage) {\n    colorMode = persistedPreference;\n  } else {\n    colorMode = initialValue === \"system\" ? systemPreference : initialValue;\n  }\n\n  if (colorMode) {\n    var root = document.documentElement;\n    root.style.setProperty(\"--chakra-ui-color-mode\", colorMode);\n  }\n}\n/**\n * Script to add to the root of your application when using localStorage,\n * to help prevent flash of color mode that can happen during page load.\n */\n\n\nexport var ColorModeScript = props => {\n  var {\n    initialColorMode = \"light\"\n  } = props;\n  var html = \"(\" + String(setScript) + \")('\" + initialColorMode + \"')\";\n  return /*#__PURE__*/React.createElement(\"script\", {\n    dangerouslySetInnerHTML: {\n      __html: html\n    }\n  });\n};","map":{"version":3,"sources":["../../src/color-mode-script.tsx"],"names":["mql","window","systemPreference","persistedPreference","localStorage","console","isInStorage","colorMode","initialValue","root","document","ColorModeScript","props","initialColorMode","html","String","__html"],"mappings":"AAAA,OAAO,KAAP,KAAA,MAAA,OAAA;;AAKA,SAAA,SAAA,CAAA,YAAA,EAAuC;AACrC,MAAMA,GAAG,GAAGC,MAAM,CAANA,UAAAA,CAAZ,8BAAYA,CAAZ;AACA,MAAMC,gBAAgB,GAAGF,GAAG,CAAHA,OAAAA,GAAAA,MAAAA,GAAzB,OAAA;AAEA,MAAA,mBAAA;;AAEA,MAAI;AACFG,IAAAA,mBAAmB,GAAGC,YAAY,CAAZA,OAAAA,CAAtBD,sBAAsBC,CAAtBD;AADF,GAAA,CAEE,OAAA,KAAA,EAAc;AACdE,IAAAA,OAAO,CAAPA,GAAAA,CAAAA,6FAAAA;AAGD;;AAED,MAAMC,WAAW,GAAG,OAAA,mBAAA,KAApB,QAAA;AAEA,MAAA,SAAA;;AAEA,MAAA,WAAA,EAAiB;AACfC,IAAAA,SAAS,GAATA,mBAAAA;AADF,GAAA,MAEO;AACLA,IAAAA,SAAS,GAAGC,YAAY,KAAZA,QAAAA,GAAAA,gBAAAA,GAAZD,YAAAA;AACD;;AAED,MAAA,SAAA,EAAe;AACb,QAAME,IAAI,GAAGC,QAAQ,CAArB,eAAA;AACAD,IAAAA,IAAI,CAAJA,KAAAA,CAAAA,WAAAA,CAAAA,wBAAAA,EAAAA,SAAAA;AACD;AACF;AAMD;;;;;;AAIA,OAAO,IAAME,eAAe,GAAIC,KAAD,IAAiC;AAC9D,MAAM;AAAEC,IAAAA,gBAAgB,GAAG;AAArB,MAAN,KAAA;AACA,MAAMC,IAAI,GAAA,MAAOC,MAAM,CAAb,SAAa,CAAb,GAAA,KAAA,GAAA,gBAAA,GAAV,IAAA;AACA,SAAA,aAAO,KAAA,CAAA,aAAA,CAAA,QAAA,EAAA;AAAQ,IAAA,uBAAuB,EAAE;AAAEC,MAAAA,MAAM,EAAEF;AAAV;AAAjC,GAAA,CAAP;AAHK,CAAA","sourcesContent":["import * as React from \"react\"\nimport { ColorMode } from \"./color-mode-provider\"\n\ntype Mode = ColorMode | \"system\" | undefined\n\nfunction setScript(initialValue: Mode) {\n  const mql = window.matchMedia(\"(prefers-color-scheme: dark)\")\n  const systemPreference = mql.matches ? \"dark\" : \"light\"\n\n  let persistedPreference: Mode\n\n  try {\n    persistedPreference = localStorage.getItem(\"chakra-ui-color-mode\") as Mode\n  } catch (error) {\n    console.log(\n      \"Chakra UI: localStorage is not available. Color mode persistence might not work as expected\",\n    )\n  }\n\n  const isInStorage = typeof persistedPreference === \"string\"\n\n  let colorMode: Mode\n\n  if (isInStorage) {\n    colorMode = persistedPreference\n  } else {\n    colorMode = initialValue === \"system\" ? systemPreference : initialValue\n  }\n\n  if (colorMode) {\n    const root = document.documentElement\n    root.style.setProperty(\"--chakra-ui-color-mode\", colorMode)\n  }\n}\n\ninterface ColorModeScriptProps {\n  initialColorMode?: Mode\n}\n\n/**\n * Script to add to the root of your application when using localStorage,\n * to help prevent flash of color mode that can happen during page load.\n */\nexport const ColorModeScript = (props: ColorModeScriptProps) => {\n  const { initialColorMode = \"light\" } = props\n  const html = `(${String(setScript)})('${initialColorMode}')`\n  return <script dangerouslySetInnerHTML={{ __html: html }} />\n}\n"]},"metadata":{},"sourceType":"module"}